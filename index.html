<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Seoul Birthday Trip â€” è¡Œç¨‹è¡¨ (Mobile Friendly)</title>

    <!-- Tailwind Play CDN (å¿«é€ŸåŸå‹ç”¨) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM (UMD) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel (åœ¨ç€è¦½å™¨ç·¨è­¯ JSXï¼Œé–‹ç™¼/ç¤ºç¯„ç”¨) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      /* å°å¹… style èª¿æ•´è®“æ‰‹æ©Ÿç€è¦½æ›´å‹å–„ */
      html, body, #root {
        height: 100%;
        background: #FAFAFA;
      }
      /* éš±è—æ»¾å‹•æ¢ */
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      /* å‘ä¸Šæ·¡å…¥å‹•ç•« */
      @keyframes fadeInUp {
        from { opacity: 0; transform: translate3d(0, 15px, 0); }
        to { opacity: 1; transform: translate3d(0, 0, 0); }
      }
      .animate-fade-in-up { animation: fadeInUp 0.5s cubic-bezier(.16,1,.3,1) both; }
      /* è®“åº•éƒ¨æŒ‰éˆ•å€åœ¨ iOS Safari æ™‚ä¸è¢« home indicator é®æ“‹ */
      .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
    </style>
  </head>
  <body>
    <div id="root" class="h-full"></div>

    <!-- App code (JSX) -->
    <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // ---------- å°åœ–ç¤ºï¼šç‚ºäº†ç€è¦½å™¨ç›´æ¥ä½¿ç”¨ï¼Œæ”¹ç”¨ Emojiï¼ˆè¼•é‡ã€è·¨å¹³å°ï¼‰ ----------
    const Icon = ({ emoji, size = 18, className = "" }) => (
      <span className={className} style={{ fontSize: size, lineHeight: 1 }}>{emoji}</span>
    );

    // ---------- è¡Œç¨‹è³‡æ–™ï¼ˆä¿ç•™ä½ åŸå§‹å…§å®¹ï¼‰ ----------
    const ITINERARY_DATA = [
      {
        day: 1,
        date: "1æœˆ9æ—¥ (äº”)",
        location: "é¦–çˆ¾ â€¢ æ±Ÿå—/é¦–çˆ¾ç«™",
        events: [
          { id: 101, time: "10:00", type: "transport", title: "æŠµé”ä»å·æ©Ÿå ´ T1", koreanName: "ì¸ì²œêµ­ì œê³µí•­", desc: "æ¡ƒåœ’T2 -> ä»å·T1 (CI160)ã€‚è¾¦ç†å…¥å¢ƒæ‰‹çºŒã€‚", meta: { from: "æ¡ƒåœ’T2", to: "ä»å·T1" }, tips: ["å·²é ç´„ CI160 èˆªç­"] },
          { id: 102, time: "14:00", type: "transport", title: "æ©Ÿå ´ç§»å‹• -> æ±Ÿå— (é«˜é€Ÿå·´å£«å®¢é‹ç«™)", desc: "æ©Ÿå ´å¿«ç·š(A10)è‡³é‡‘æµ¦æ©Ÿå ´(A05)è½‰ 9è™Ÿç·š(902)è‡³é«˜é€Ÿå·´å£«å®¢é‹ç«™(923) 8è™Ÿå‡ºå£ã€‚", meta: { from: "ä»å·æ©Ÿå ´", to: "ê³ ì†í„°ë¯¸ë„ì—­ 8ë²ˆ ì¶œêµ¬" }, tips: ["TMONEY å¯ç”¨ Apple Pay è³¼è²·", "è»Šç¨‹ç´„ 1.5 å°æ™‚"] },
          { id: 103, time: "15:30", type: "shopping", title: "æ–°ä¸–ç•Œç™¾è²¨ æ±Ÿå—åº—", koreanName: "ì‹ ì„¸ê³„ë°±í™”ì  ê°•ë‚¨ì ", address: "ì‹ ì„¸ê³„ë°±í™”ì  ê°•ë‚¨ì ", tags: [{ text: "æ”»ç•¥ï¼šå¾ 8F é–‹å§‹é€›", style: "info" }, { text: "å¿…è¾¦ï¼š2F æœƒå“¡å¡ (9æŠ˜, é£²æ–™)", style: "highlight" }], shoppingItems: ["2F: GOYARD", "4F: UGG"], desc: "é«˜é€Ÿå·´å£«å®¢é‹ç«™8è™Ÿå‡ºå£ç›´çµã€‚è¨˜å¾—å…ˆåˆ°2æ¨“è¾¦æœƒå“¡å¡(è­·ç…§)ï¼Œäº«9æŠ˜èˆ‡å…è²»é£²æ–™ã€‚ç‡Ÿæ¥­æ™‚é–“ï¼š10:30-20:00ï¼Œé€±ä¸€å…¬ä¼‘ã€‚" },
          { id: 104, time: "18:00", type: "food", title: "ç«æ³¥ (éŸ“å¼æ–™ç†)", koreanName: "í™”ë‹ˆ", address: "ì‹ ì„¸ê³„ë°±í™”ì  ê°•ë‚¨ì  11F", tags: [{ text: "ç™¾è²¨ 11F", style: "info" }], desc: "ä½æ–¼ç™¾è²¨æ¨“ä¸Šçš„ç²¾ç·»éŸ“å¼æ–™ç†ï¼Œç’°å¢ƒèˆ’é©ã€‚ç‡Ÿæ¥­æ™‚é–“ï¼š11:00â€“21:00ã€‚" },
          { id: 105, time: "18:30", type: "transport", title: "ç§»å‹•è‡³é£¯åº— (å¸‚å»³ç«™)", desc: "9è™Ÿç·š-é«˜é€Ÿå·´å£«å®¢é‹ç«™(923) -> é·ºæ¢æ´¥(917/136)è½‰1è™Ÿç·š -> å¸‚å»³ç«™(132)ã€‚", meta: { from: "ê³ ì†í„°ë¯¸ë„ì—­", to: "ì‹œì²­ì—­ 7ë²ˆ ì¶œêµ¬" } },
          { id: 106, time: "19:00", type: "stay", title: "Check-in: ç›¸éµå–œæ™®å‹’é›†é£¯åº—", koreanName: "ì†Œí…Œì¸ í˜¸í…”ì¦ˆ ë” ìŠ¤í”„ë¼ì§€ë¥´ ì„œìš¸ ëª…ë™", address: "ì†Œí…Œì¸ í˜¸í…”ì¦ˆ ë” ìŠ¤í”„ë¼ì§€ë¥´ ì„œìš¸ ëª…ë™", tags: [{ text: "å·²é ç´„", style: "highlight" }], desc: "å¸‚å»³ç«™7è™Ÿå‡ºå£ï¼Œæ­¥è¡Œç´„8åˆ†é˜ã€‚15:00å¾Œå¯CHECK INã€‚" },
          { id: 107, time: "20:00", type: "transport", title: "ç§»å‹•è‡³é¦–çˆ¾ç«™ (æ™šé¤/è³¼ç‰©)", desc: "1è™Ÿç·š-å¸‚å»³ç«™(132) > é¦–çˆ¾ç«™(131) 3è™Ÿå‡ºå£ã€‚", meta: { from: "ì‹œì²­ì—­", to: "ì„œìš¸ì—­ 3ë²ˆ ì¶œêµ¬" } },
          { id: 108, time: "20:30", type: "food", title: "æ™šé¤é¸é …ï¼šå…ƒç¥–è„Šéª¨æ¹¯æˆ–åšè‚‰", koreanName: "24ì‹œ ìš©ì‚°ì›ì¡°ê°ìíƒ•", tags: [{ text: "A. å…ƒç¥–è„Šéª¨æ¹¯ (24H)", style: "info" }, { text: "B. åšè‚‰ (15:30-00:00)", style: "info" }], desc: "é¦–çˆ¾ç«™å‘¨é‚Šæ™šé¤å‚™é¸ï¼Œè«‹é¸æ“‡ä¸€å®¶ç”¨é¤ã€‚" },
          { id: 109, time: "21:30", type: "shopping", title: "æ¨‚å¤©è¶…å¸‚æ¡è²· (é¦–çˆ¾ç«™åº—)", koreanName: "ë¡¯ë°ë§ˆíŠ¸ ì œíƒ€í”Œë ‰ìŠ¤ ì„œìš¸ì—­ì ", tags: [{ text: "ç‡Ÿæ¥­è‡³ 00:00", style: "warning" }], shoppingItems: ["ä¼´æ‰‹ç¦®", "é›¶é£Ÿ", "æ³¡éºµ"], desc: "æ¡è³¼ä¼´æ‰‹ç¦®èˆ‡é›¶é£Ÿã€‚è«‹æ³¨æ„è¶…å¸‚çš„ç‡Ÿæ¥­æ™‚é–“ã€‚" },
          { id: 110, time: "23:30", type: "transport", title: "è¿”å›é£¯åº—", desc: "1è™Ÿç·š-é¦–çˆ¾ç«™(131) > å¸‚å»³ç«™(132) 7è™Ÿå‡ºå£ã€‚", meta: { from: "ì„œìš¸ì—­", to: "ì‹œì²­ì—­ 7ë²ˆ ì¶œêµ¬" } },
          { id: 111, time: "00:00", type: "bar", title: "SOOEUL é…’å§å°é…Œ", koreanName: "ìˆ˜ì„", tags: [{ text: "ç‡Ÿæ¥­è‡³ 01:30", style: "info" }], desc: "é£¯åº—é™„è¿‘é…’å§ï¼Œæ­¥è¡Œç´„ 4 åˆ†é˜ï¼Œé©åˆç¡å‰å°é…Œã€‚" },
          { id: 112, time: "01:00", type: "stay", title: "å…¥ä½é£¯åº—ä¼‘æ¯", koreanName: "ì†Œí…Œì¸ í˜¸í…”ì¦ˆ ë” ìŠ¤í”„ë¼ì§€ë¥´ ì„œìš¸ ëª…ë™", desc: "çµæŸç¬¬ä¸€å¤©å……å¯¦çš„è¡Œç¨‹ã€‚", tips: ["ç¢ºä¿ 01:30 å‰å®Œæˆé…’å§æ´»å‹•"] }
        ]
      },
      {
        day: 2,
        date: "1æœˆ10æ—¥ (å…­)",
        location: "é¦–çˆ¾ â€¢ é¾è·¯/æ˜æ´",
        events: [
          { id: 201, time: "7:00", type: "transport", title: "å‰å¾€å®‰åœ‹ç«™ (Artist Bakery)", desc: "1è™Ÿç·š-å¸‚å»³ç«™(132) > é¾è·¯ä¸‰è¡—(130/327)è½‰3è™Ÿç·š > å®‰åœ‹ç«™(328)1è™Ÿå‡ºå£ã€‚", meta: { from: "ì‹œì²­ì—­", to: "ì•ˆêµ­ì—­ 1ë²ˆ ì¶œêµ¬" }, tips: ["æ³¨æ„è½‰ä¹˜ï¼Œå®‰åœ‹ç«™1è™Ÿå‡ºå£"] },
          { id: 202, time: "7:30", type: "cafe", title: "Artist Bakery æ—©é¤", koreanName: "Artist Bakery", address: "ì•ˆêµ­ì—­ 1ë²ˆ ì¶œå£æ—", tags: [{ text: "å¿…é»: ä¼¯çˆµèŒ¶é¹½éºµåŒ…", style: "highlight" }, { text: "å¿…é»: Fresh Milk Cream Salt Bread", style: "highlight" }, { text: "ç‡Ÿæ¥­æ™‚é–“ 7:30-20:00", style: "info" }], desc: "ä½æ–¼å®‰åœ‹ç«™1è™Ÿå‡ºå£æ—é‚Šçš„ç†±é–€éºµåŒ…åº—ï¼Œäº«ç”¨ç²¾ç·»æ—©é¤ã€‚" },
          { id: 203, time: "8:30", type: "transport", title: "å‰å¾€å»£è—å¸‚å ´ (é¾è·¯äº”è¡—)", desc: "3è™Ÿç·š-å®‰åœ‹ç«™(328) > é¾è·¯ä¸‰è¡—(327)è½‰1è™Ÿç·š > é¾è·¯äº”è¡—(131)8è™Ÿå‡ºå£ã€‚", meta: { from: "ì•ˆêµ­ì—­", to: "ì¢…ë¡œ5ê°€ì—­ 8ë²ˆ ì¶œêµ¬" }, tips: ["é¾è·¯äº”è¡—8è™Ÿå‡ºå£é è¿‘å»£è—å¸‚å ´å…¥å£"] },
          { id: 204, time: "9:00", type: "food", title: "å»£è—å¸‚å ´ (ç¾é£Ÿæ¢ç´¢)", koreanName: "ê´‘ì¥ì‹œì¥", address: "ê´‘ì¥ì‹œì¥", tags: [{ text: "å¿…åƒ: ç³¯ç±³éº»èŠ±æ² (ì°¹ìŒ€ê½ˆë°°ê¸°)", style: "highlight" }, { text: "å¿…åƒ: æ¯å¥³ç´«èœåŒ…é£¯", style: "highlight" }, { text: "å¿…åƒ: å¯Œæ‘ç”Ÿæ‹Œç‰›è‚‰ (ë¶€ì´Œìœ¡íšŒ)", style: "highlight" }, { text: "ç¾é£Ÿ: Garlic Boy", style: "info" }, { text: "ç¾é£Ÿ: å…ƒç¥–é®ªé­šèµ·å¸è£¸é£¯æ²", style: "info" }], desc: "é¦–çˆ¾æœ€è‘—åçš„å‚³çµ±å¸‚å ´ä¹‹ä¸€ï¼Œå¾ç¶“å…¸å°åƒåˆ°ç‰¹è‰²ç”Ÿæ‹Œç‰›è‚‰ï¼Œä¸€æ¬¡æ»¿è¶³ã€‚" },
          { id: 205, time: "11:00", type: "shopping", title: "æ½®ç‰Œä¸€æ¢è¡— (æŸ¯é”/é¦¬ä¸é‡‘)", koreanName: "ì½”ë‹¥ ê´‘ì¥ë§ˆì¼“ì ", tags: [], shoppingItems: ["æŸ¯é” Kodak (å»£å ´å¸‚å ´åº—)", "Martin Kim", "kirsh", "satur", "Marithe"], desc: "æ¢ç´¢å»£è—å¸‚å ´å‘¨é‚Šçš„éŸ“åœ‹æµè¡Œæ½®ç‰Œåº—ã€‚" },
          { id: 206, time: "12:00", type: "shopping", title: "å¹³å’Œå¸‚å ´ (è¥ªå­æ‰¹ç™¼)", koreanName: "í‰í™”ì‹œì¥", address: "ì„œìš¸ ì¤‘êµ¬ ì²­ê³„ì²œë¡œ 246 å¹³å’Œå¸‚å ´ 1ì¸µ", tags: [{ text: "1F è¥ªå­æ‰¹ç™¼", style: "info" }], shoppingItems: ["269è™Ÿæ£‰è¢«åº—", "è¥ªå­ (å¤§é‡æ¡è³¼)"], desc: "ä½æ–¼æ¸…æºªå·æ—çš„æœé£¾èˆ‡è¥ªå­æ‰¹ç™¼å¸‚å ´ï¼Œé©åˆå¤§é‡æ¡è³¼ã€‚" },
          { id: 207, time: "13:00", type: "shopping", title: "é¾è·¯å‹åˆ©è—¥å±€", koreanName: "ì¢…ë¡œ ìš°ë¦¬ ì•½êµ­", address: "é¾è·¯äº”è¡— 10è™Ÿå‡ºå£é™„è¿‘", shoppingItems: ["å¸¸å‚™è—¥å“", "å¥åº·ç”¨å“"], desc: "æ¡è³¼è—¥å“æˆ–å¥åº·ç”¨å“ã€‚" },
          { id: 208, time: "14:00", type: "transport", title: "è¿”å›é£¯åº—ä¼‘æ¯/Check-in", desc: "1è™Ÿç·š-é¾è·¯äº”è¡—(131) > å¸‚å»³ç«™(132) 7è™Ÿå‡ºå£ã€‚", meta: { from: "ì¢…ë¡œ5ê°€ì—­", to: "ì‹œì²­ì—­ 7ë²ˆ ì¶œå£" }, tips: ["å›é£¯åº—ä¼‘æ¯ä¸¦Check-in (15:00å¾Œ)"] },
          { id: 209, time: "15:00", type: "attraction", title: "æ©¡å­æ¼«ç•« (æ˜æ´åº—)", koreanName: "ë„í† ë¦¬ìºë¦¬ì»¤ì³", tags: [{ text: "ç¾å ´è²·ç¥¨", style: "info" }], desc: "äººæ°£æ¼«ç•«è‚–åƒç•«åº—ï¼Œå¾é£¯åº—æ­¥è¡Œç´„12åˆ†é˜ã€‚ç‡Ÿæ¥­æ™‚é–“ï¼š10:00ï½22:30ã€‚" },
          { id: 210, time: "16:30", type: "shopping", title: "æ˜æ´å•†åœˆè³¼ç‰©", koreanName: "ëª…ë™ ìƒê¶Œ", tags: [], shoppingItems: ["ç¾å¦/æœé£¾: hetras, Root, Mplayground", "é‹å­: ABCMartGS, adidas", "é£¾å“: Nyunyu"], desc: "æ˜æ´ä¸»è¦è³¼ç‰©å€é€›è¡—ï¼Œæ¡è³¼ç¾å¦ã€æœé£¾èˆ‡é£¾å“ã€‚" },
          { id: 211, time: "19:00", type: "food", title: "æ˜æ´æ™šé¤é¸é … (é†¬èŸ¹/çƒ¤è‚‰)", tags: [{ text: "A. æ°´åˆºé†¬èŸ¹ (ìˆ˜ë¼ê²Œì¥)", style: "info" }, { text: "B. è’è¬¬çš„ç”Ÿè‚‰ (ì—‰í„°ë¦¬ìƒê³ ê¸°)", style: "info" }, { text: "æ°´åˆºé†¬èŸ¹ç‡Ÿæ¥­ï¼š11:00â€“15:00ã€17:00â€“23:00", style: "warning" }], desc: "åœ¨æ˜æ´é¸æ“‡äº«ç”¨é†¬èŸ¹æˆ–ç¾å‘³çƒ¤è‚‰ã€‚" },
          { id: 212, time: "20:30", type: "bar", title: "Sookhee é…’å§å°é…Œ", koreanName: "ëª…ë™ ìˆ™í¬", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š18:00â€“01:00", style: "info" }], desc: "æ˜æ´å‘¨é‚Šçš„é…’å§ï¼Œäº«å—å¤œæ™šæ™‚å…‰ã€‚" },
          { id: 213, time: "23:00", type: "transport", title: "è¿”å›é£¯åº—", desc: "è¦–æƒ…æ³é¸æ“‡è¨ˆç¨‹è»Šã€åœ°éµæˆ–æ­¥è¡Œè¿”å›é£¯åº—ã€‚", meta: { from: "æ˜æ´å•†åœˆ", to: "ç›¸éµå–œæ™®å‹’é›†é£¯åº—" }, tips: ["å½ˆæ€§èª¿æ•´ï¼Œæ³¨æ„æœ«ç­è»Šæ™‚é–“"] },
          { id: 214, time: "00:00", type: "stay", title: "å…¥ä½é£¯åº—ä¼‘æ¯", koreanName: "ì†Œí…Œì¸ í˜¸í…”ì¦ˆ ë” ìŠ¤í”„ë¼ì§€ë¥´ ì„œìš¸ ëª…ë™", desc: "çµæŸç¬¬äºŒå¤©è¡Œç¨‹ã€‚", tips: ["æº–å‚™è¿æ¥Day 3 çš„è¡Œç¨‹"] }
        ]
      },
      {
        day: 3,
        date: "1æœˆ11æ—¥ (æ—¥)",
        location: "é¦–çˆ¾ â€¢ è–æ°´æ´",
        events: [
          { id: 301, time: "9:00", type: "transport", title: "å‰å¾€è–æ°´ç«™", desc: "2è™Ÿç·š-å¸‚å»³ç«™(201) > è–æ°´ç«™(221) 3è™Ÿå‡ºå£ã€‚", meta: { from: "ì‹œì²­ì—­", to: "ì„±ìˆ˜ì—­ 3ë²ˆ ì¶œêµ¬" }, tips: ["è»Šç¨‹ç´„ 30 åˆ†é˜"] },
          { id: 302, time: "9:30", type: "cafe", title: "Standard Bread (æ—©é¤/å’–å•¡)", koreanName: "ìŠ¤íƒ ë‹¤ë“œë¸Œë ˆë“œ ì„±ìˆ˜", address: "ìŠ¤íƒ ë‹¤ë“œë¸Œë ˆë“œ ì„±ìˆ˜", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š09:00â€“21:00", style: "info" }], desc: "è–æ°´æ´çš„äººæ°£éºµåŒ…åº—ï¼Œäº«ç”¨æ—©é¤å’Œå’–å•¡ã€‚" },
          { id: 303, time: "11:00", type: "shopping", title: "è–æ°´æ´å•†åœˆè³¼ç‰© (æ½®ç‰Œæ¢ç´¢)", koreanName: "ì„±ìˆ˜ë™ ìƒê¶Œ", tags: [{ text: "å¤§éƒ¨åˆ†åº—å®¶ 11:00 æ‰é–‹é–€", style: "warning" }], shoppingItems: ["thisisneverthat", "EQL", "BADBLOOD", "MUSINSA", "Human Made", "29cm.home", "ADER ERROR", "Kith", "POSTES STORE", "Kodak", "BLUE ELEPHANT", "Taag", "STAND OIL", "LOE", "WEST SUARE", "pureda", "LowKey", "Rockfish weatherwear", "Tamburins", "New Mix coffee"], desc: "å…¨å¤©æ¢ç´¢è–æ°´æ´çš„æ™‚å°šã€è¨­è¨ˆå¸«å“ç‰Œå’Œç‰¹è‰²åº—é‹ªã€‚" },
          { id: 304, time: "13:00", type: "food", title: "åˆé¤ï¼šæœ¬å®¶ä¸€éš»é›", koreanName: "ë‚¨ë‹¤ë¥¸ ë³¸ê°€ ë‹­í•œë§ˆë¦¬", address: "ë‚¨ë‹¤ë¥¸ ë³¸ê°€ ë‹­í•œë§ˆë¦¬", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š12:00â€“23:00", style: "info" }], desc: "äº«ç”¨ç¾å‘³çš„éŸ“å¼ä¸€éš»é›æ–™ç†ä½œç‚ºåˆé¤ã€‚" },
          { id: 305, time: "19:00", type: "transport", title: "è–æ°´ç«™ -> çº›å³¶ç«™", desc: "2è™Ÿç·š-è–æ°´ç«™(221) > çº›å³¶ç«™(220) 2è™Ÿå‡ºå£ã€‚", meta: { from: "ì„±ìˆ˜ì—­", to: "ëšì„¬ì—­ 2ë²ˆ ì¶œêµ¬" } },
          { id: 306, time: "19:30", type: "food", title: "æ™šé¤ï¼šè–ä¸€ç²¾è‚‰é£Ÿå ‚ (çƒ¤è‚‰)", koreanName: "ì„±ì¼ì •ìœ¡ì‹ë‹¹", address: "ì„±ì¼ì •ìœ¡ì‹ë‹¹", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š11:30â€“21:00", style: "warning" }], desc: "åœ¨çº›å³¶ç«™é™„è¿‘çš„ç²¾è‚‰é£Ÿå ‚äº«ç”¨ç¾å‘³çƒ¤è‚‰ï¼Œæ³¨æ„çµæŸç‡Ÿæ¥­æ™‚é–“æ˜¯ 21:00ã€‚" },
          { id: 307, time: "21:00", type: "transport", title: "çº›å³¶ç«™ -> å¸‚å»³ç«™ (å›é£¯åº—)", desc: "2è™Ÿç·š-çº›å³¶ç«™(220) > å¸‚å»³ç«™(201) 7è™Ÿå‡ºå£ã€‚", meta: { from: "ëšì„¬ì—­", to: "ì‹œì²­ì—­ 7ë²ˆ ì¶œêµ¬" } },
          { id: 308, time: "21:55", type: "food", title: "å®µå¤œï¼šæ©‹æ‘ç‚¸é› é¦–çˆ¾å¸‚å»³åº— (å¤–å¸¶/å…§ç”¨)", koreanName: "êµì´Œì¹˜í‚¨ ì„œìš¸ì‹œì²­ì ", address: "ì‹œì²­ì—­ 7è™Ÿå‡ºå£", tags: [{ text: "æœ€å¾Œé»é¤æ™‚é–“ï¼š21:55", style: "warning" }, { text: "å¸‚å»³ç«™7è™Ÿå‡ºå£é™„è¿‘", style: "info" }], desc: "åœ¨å›é£¯åº—å‰äº«ç”¨å®µå¤œç‚¸é›ã€‚å‹™å¿…åœ¨æœ€å¾Œé»é¤æ™‚é–“å‰åˆ°é”ã€‚" },
          { id: 309, time: "22:00", type: "stay", title: "é£¯åº—ä¼‘æ¯", koreanName: "ì†Œí…Œì¸ í˜¸í…”ì¦ˆ ë” ìŠ¤í”„ë¼ì§€ë¥´ ì„œìš¸ ëª…ë™", desc: "çµæŸç¬¬ä¸‰å¤©å……å¯¦çš„è–æ°´æ´è¡Œç¨‹ã€‚", tips: ["æº–å‚™è¿æ¥éš”æ—¥è¡Œç¨‹"] }
        ]
      },
      {
        day: 4,
        date: "1æœˆ12æ—¥ (ä¸€)",
        location: "é¦–çˆ¾ â€¢ å¼˜å¤§/æ©Ÿå ´",
        events: [
          { id: 401, time: "8:00", type: "transport", title: "é£¯åº— -> é¦–çˆ¾ç«™ (è¨ˆç¨‹è»Š)", desc: "å¾é£¯åº—æ­è¨ˆç¨‹è»Šåˆ°é¦–çˆ¾ç«™ (ì„œìš¸ì—­)ï¼Œé è¨ˆç´„ 10 åˆ†é˜ï¼Œè»Šè³‡ç´„ 4,800 éŸ“å…ƒã€‚", meta: { from: "ç›¸éµå–œæ™®å‹’é›†é£¯åº— (å¸‚å»³ç«™)", to: "ì„œìš¸ì—­" }, tips: ["é è¨ˆè»Šç¨‹ 10 åˆ†é˜"] },
          { id: 402, time: "8:30", type: "stay", title: "T-luggage è¡Œæå¯„é€è‡³æ©Ÿå ´", koreanName: "T-luggage ì„œìš¸ì—­", address: "1è™Ÿç·š é¦–çˆ¾ç«™ B1F, 1è™Ÿå‡ºå£æ–¹å‘", desc: "å°‡å¤§å‹è¡Œæå¯„é€è‡³ä»å·æ©Ÿå ´ (T1/T2) é ˜å–ã€‚", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š09:00-22:00", style: "warning" }], tips: ["æœå‹™ 09:00 é–‹å§‹ï¼Œå¯èƒ½éœ€ç¨ç­‰"] },
          { id: 403, time: "9:00", type: "transport", title: "æ©Ÿå ´å¿«ç·šï¼šé¦–çˆ¾ç«™ -> å¼˜å¤§å…¥å£ç«™", desc: "æ­ä¹˜æ©Ÿå ´å¿«ç·š(A01)è‡³å¼˜å¤§å…¥å£ç«™(A03) 9è™Ÿå‡ºå£ã€‚", meta: { from: "ì„œìš¸ì—­ (A01)", to: "í™ëŒ€ì…êµ¬ì—­ 9ë²ˆ ì¶œêµ¬ (A03)" } },
          { id: 404, time: "9:30", type: "food", title: "Egg Drop å¼˜å¤§å…¥å£åº— (æ—©é¤)", koreanName: "ì—ê·¸ë“œë í™ëŒ€ì…êµ¬ì ", address: "ì—ê·¸ë“œë í™ëŒ€ì…êµ¬ì ", tags: [{ text: "ç‡Ÿæ¥­æ™‚é–“ï¼š08:30-22:00", style: "info" }], desc: "åœ¨å¼˜å¤§äº«ç”¨äººæ°£åå¸æ—©é¤ã€‚" },
          { id: 405, time: "11:00", type: "shopping", title: "å¼˜å¤§å•†åœˆæœ€å¾Œæ¡è³¼", koreanName: "í™ëŒ€ ìƒê¶Œ", address: "å¼˜å¤§å…¥å£ç«™ 9è™Ÿå‡ºå£å‘¨é‚Š", tags: [{ text: "å‚™è¨»ï¼šåº—å®¶å¤š 11:00-12:00 ç‡Ÿæ¥­", style: "warning" }], shoppingItems: ["ABCmart GS", "Folder", "Havehad", "Thisisneverthat", "Covernat", "Wacky WiLLy"], desc: "æ¢ç´¢å¼˜å¤§å•†åœˆï¼Œé€²è¡Œå›åœ‹å‰çš„æœ€å¾Œä¸€æ¬¡è³¼ç‰©ã€‚" },
          { id: 406, time: "14:00", type: "food", title: "åˆé¤é¸é … (è±¬è…³/çƒ¤è‚‰)", tags: [{ text: "A. è±¬è…³å°å§ (ë¯¸ì“°ì¡±ë°œ í™ëŒ€ë³¸ì ) 12:30-00:00", style: "info" }, { text: "B. ä¸€ç‰‡é‡Œè„Š (ì¼í¸ë“±ì‹¬ í™ëŒ€ë³¸ì ) 12:00-15:00 / 17:00-00:00", style: "info" }], desc: "åœ¨å¼˜å¤§é¸æ“‡ä¸€å®¶äº«ç”¨åˆé¤ã€‚è«‹æ³¨æ„é‡Œè„Šåº—æœ‰åˆä¼‘æ™‚é–“ã€‚" },
          { id: 407, time: "15:30", type: "transport", title: "å¼˜å¤§ -> ä»å·æ©Ÿå ´ (æ©Ÿå ´å¿«ç·š)", desc: "æ©Ÿå ´å¿«ç·š(A03)è‡³ä»å·åœ‹éš›æ©Ÿå ´ (A10)ã€‚é è¨ˆ 17:00 æŠµé”æ©Ÿå ´ã€‚", meta: { from: "í™ëŒ€ì…êµ¬ì—­ (A03)", to: "ä»å·åœ‹éš›æ©Ÿå ´ (A10)" }, tips: ["ç¢ºä¿é ç•™è¶³å¤ æ™‚é–“è¾¦ç†ç™»æ©Ÿ"] },
          { id: 408, time: "17:00", type: "stay", title: "ä»å·æ©Ÿå ´ï¼šé ˜å– T-luggage è¡Œæ", koreanName: "í•œì§„íƒë°° (HANJIN)", address: "Terminal 2: 3æ¨“ å ±åˆ°æ«ƒæª¯ H éŸ“é€²å¿«é (HANJIN)", desc: "æŠµé”æ©Ÿå ´å¾Œï¼Œå‰å¾€éŸ“é€²å¿«éæ«ƒæª¯é ˜å–å¾é¦–çˆ¾ç«™å¯„é€çš„è¡Œæï¼Œç„¶å¾Œè¾¦ç†ç™»æ©Ÿã€‚", tags: [{ text: "T2 èˆªå»ˆ", style: "highlight" }] },
          { id: 409, time: "19:45", type: "transport", title: "ä»å·æ©Ÿå ´ T1 -> æ¡ƒåœ’ T2 (CI161)", desc: "CI161 èˆªç­ï¼Œé è¨ˆ 19:45 èµ·é£›ã€‚è«‹é ç•™æ™‚é–“ç™»æ©Ÿã€‚", meta: { from: "ä»å·æ©Ÿå ´ T1", to: "æ¡ƒåœ’æ©Ÿå ´ T2" }, tags: [{ text: "å·²é ç´„ CI161 èˆªç­", style: "highlight" }], tips: ["èµ·é£›å‰ 2 å°æ™‚å®Œæˆå ±åˆ°æ‰‹çºŒ"] }
        ]
      }
    ];

    // Assign a real photo per event if available (assets/img/event-<id>.jpg)
    // This overrides earlier per-type icons so each event uses a unique picture.
    ITINERARY_DATA.forEach(day => {
      day.events.forEach(ev => {
        ev.image = `./assets/img/event-${ev.id}.jpg`;
      });
    });

    // ---------- Helper: é¡å‹é¡è‰²/Emoji Icon ----------
    const getTypeColor = (type) => {
      switch (type) {
        case 'food': return 'bg-orange-50 text-orange-600 border-orange-100';
        case 'cafe': return 'bg-stone-50 text-stone-600 border-stone-200';
        case 'attraction': return 'bg-teal-50 text-teal-700 border-teal-100';
        case 'transport': return 'bg-gray-50 text-gray-600 border-gray-100';
        case 'shopping': return 'bg-rose-50 text-rose-600 border-rose-100';
        case 'stay': return 'bg-indigo-50 text-indigo-600 border-indigo-100';
        case 'bar': return 'bg-purple-50 text-purple-600 border-purple-100';
        default: return 'bg-gray-50 text-gray-600';
      }
    };

    const getTypeEmoji = (type) => {
      switch (type) {
        case 'food': return 'ğŸ½ï¸';
        case 'cafe': return 'â˜•';
        case 'attraction': return 'ğŸ“·';
        case 'transport': return 'ğŸš†';
        case 'shopping': return 'ğŸ›ï¸';
        case 'stay': return 'ğŸ›ï¸';
        case 'bar': return 'ğŸ·';
        default: return 'ğŸ“';
        }
      };

      // ---------- Helper: Event image selection ----------
      // If an event has `image` (absolute url or relative path) we'll use it.
      // Otherwise we fallback to an Unsplash search image using the title / koreanName
      const getEventImage = (event) => {
        if (!event) return '';
        // prefer explicit image field
        if (event.image) return event.image;

        // local per-type fallbacks (guaranteed to exist in /assets/img)
        const type = (event.type || 'default').toLowerCase();
        const localMap = {
          food: './assets/img/food.svg',
          cafe: './assets/img/cafe.svg',
          attraction: './assets/img/attraction.svg',
          transport: './assets/img/transport.svg',
          shopping: './assets/img/shopping.svg',
          stay: './assets/img/stay.svg',
          bar: './assets/img/bar.svg',
          default: './assets/img/default.svg'
        };

        if (localMap[type]) return localMap[type];

        // as a last resort, remote Unsplash search (shouldn't be reached)
        const query = encodeURIComponent(event.koreanName || event.title || event.type || 'seoul');
        return `https://source.unsplash.com/800x450/?${query}`;
      };

    // ---------- æ‰“é–‹åœ°åœ–æˆ–æœå°‹ï¼ˆåœ¨æ‰‹æ©Ÿä¸Šæœƒé–‹æ–°åˆ†é /æ¨™ç±¤ï¼‰ ----------
    const openNaverMap = (event) => {
      let query = '';
      const isTaxi = /è¨ˆç¨‹è»Š|íƒì‹œ|taxi/i.test(event.title || '');
      if (event.type === 'transport' && event.meta && event.meta.to && isTaxi) {
        query = event.meta.to;
      } else if (event.type === 'transport' && event.meta && event.meta.to) {
        query = event.meta.to;
      } else {
        query = event.koreanName || event.title;
      }
      if (query && typeof window !== 'undefined' && window.open) {
        const url = `https://map.naver.com/v5/search/${encodeURIComponent(query)}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      }
    };

    const openGoogleSearch = (event) => {
      const query = event.koreanName || event.title;
      if (query && typeof window !== 'undefined' && window.open) {
        const url = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      }
    };

    // ---------- è³¼ç‰©æ˜ç´° Modal ----------
    function ShoppingDetailModal({ isOpen, onClose, event }) {
      useEffect(() => {
        const onKey = (e) => { if (e.key === 'Escape') onClose(); };
        if (isOpen) document.addEventListener('keydown', onKey);
        return () => document.removeEventListener('keydown', onKey);
      }, [isOpen, onClose]);

      if (!isOpen || !event) return null;
      const items = Array.isArray(event.shoppingItems) ? event.shoppingItems : [];

      return (
        <div
          className="fixed inset-0 z-50 bg-gray-900 bg-opacity-90 flex items-start justify-center p-4 sm:p-8"
          onClick={onClose}
          role="dialog"
          aria-modal="true"
          aria-label="è³¼ç‰©æ˜ç´°"
        >
          <div className="bg-white w-full max-w-lg rounded-3xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto mt-8" onClick={(e)=>e.stopPropagation()}>
            {/* modal header image */}
            <div className="w-full rounded-lg overflow-hidden mb-4 bg-gray-100">
              <img loading="lazy" src={getEventImage(event)} alt={event.title} className="w-full h-36 object-cover" />
            </div>
            <div className="flex justify-between items-start mb-6 border-b pb-4">
              <div>
                <h2 className="text-xl font-bold flex items-center space-x-2">
                  <Icon emoji="ğŸ›ï¸" />
                  <span>{event.title} æ˜ç´°</span>
                </h2>
                <p className="text-sm text-gray-500 mt-1">{event.koreanName || event.desc}</p>
              </div>
              <button onClick={onClose} className="p-2 -mt-2 -mr-2 text-gray-400 hover:text-gray-600 rounded-full" aria-label="Close">
                <Icon emoji="âŒ" />
              </button>
            </div>

            <div className="space-y-4">
              <h3 className="text-lg font-semibold text-gray-800 border-l-4 border-rose-500 pl-3">
                è³¼ç‰©æ¸…å–® ({items.length} é …)
              </h3>

              <ul className="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                {items.length === 0 && <li className="col-span-full text-sm text-gray-500 p-3 bg-gray-50 rounded-xl">ç›®å‰æ²’æœ‰è³¼ç‰©å“é …ã€‚</li>}
                {items.map((it, idx) => (
                  <li key={idx} className="flex items-start p-3 bg-gray-50 rounded-xl">
                    <span className="text-rose-400 font-bold mr-2 mt-0.5">â€¢</span>
                    <span className="text-gray-700 leading-tight">{it}</span>
                  </li>
                ))}
              </ul>
            </div>

            <div className="mt-6 pt-4 border-t">
              <p className="text-xs text-gray-400">æ­¤æ¸…å–®åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›åº—å®¶/å“é …ä»¥ç¾å ´æƒ…æ³ç‚ºæº–ã€‚</p>
            </div>
          </div>
        </div>
      );
    }

    // ---------- ä¸» App ----------
    function App() {
      const [activeDay, setActiveDay] = useState(0);
      const scrollRef = useRef(null);
      const [weatherData, setWeatherData] = useState(null);
      const [loadingWeather, setLoadingWeather] = useState(true);
      const [isModalOpen, setIsModalOpen] = useState(false);
      const [selectedShoppingEvent, setSelectedShoppingEvent] = useState(null);

      const openShoppingDetail = (event) => {
        setSelectedShoppingEvent(event);
        setIsModalOpen(true);
      };
      const closeShoppingDetail = () => {
        setIsModalOpen(false);
        setSelectedShoppingEvent(null);
      };

      const averageJanuaryWeather = {
        1: { type: "sunny", temp: "H: 2Â°C / L: -6Â°C", desc: "é¦–çˆ¾ä¸€æœˆå¹³å‡ï¼Œæ¥µç‚ºå¯’å†·ä¸”ä¹¾ç‡¥" },
        2: { type: "sunny", temp: "H: 3Â°C / L: -5Â°C", desc: "é¦–çˆ¾ä¸€æœˆå¹³å‡ï¼Œæ¥µç‚ºå¯’å†·ä¸”ä¹¾ç‡¥" },
        3: { type: "sunny", temp: "H: 3Â°C / L: -5Â°C", desc: "é¦–çˆ¾ä¸€æœˆå¹³å‡ï¼Œæ¥µç‚ºå¯’å†·ä¸”ä¹¾ç‡¥" },
        4: { type: "sunny", temp: "H: 2Â°C / L: -7Â°C", desc: "å›åœ‹æ—¥ï¼Œæ³¨æ„ä¿æš–åŠæ¥µåº¦ä¹¾ç‡¥" }
      };

      useEffect(() => {
        let mounted = true;
        (async () => {
          setLoadingWeather(true);
          await new Promise(r => setTimeout(r, 700));
          if (mounted) {
            setWeatherData(averageJanuaryWeather);
            setLoadingWeather(false);
          }
        })();
        return () => { mounted = false; };
      }, []);

      const currentItinerary = ITINERARY_DATA[activeDay] || ITINERARY_DATA[0];
      const currentWeather = weatherData ? weatherData[currentItinerary.day] : null;

      return (
        <div className="min-h-screen flex flex-col text-gray-800">
          <ShoppingDetailModal isOpen={isModalOpen} onClose={closeShoppingDetail} event={selectedShoppingEvent} />

          <div ref={scrollRef} className="flex-1 overflow-y-auto pb-36">
            <header className="sticky top-0 z-40 bg-[#FAFAFA]/95 backdrop-blur-md pt-3 pb-3 px-4 sm:px-6">
              <div className="flex justify-between items-center max-w-xl mx-auto">
                <div>
                  <div className="flex items-center space-x-2">
                    <h1 className="text-2xl font-bold tracking-tight">SEOUL</h1>
                    <div className="flex items-center space-x-1">
                      <Icon emoji="âœˆï¸" />
                      <span role="img" aria-label="crown">ğŸ‘‘</span>
                    </div>
                  </div>
                  <p className="text-xs text-gray-400 uppercase mt-0.5">Birthday Trip 2026</p>
                </div>
              </div>
            </header>

            <main className="px-4 pt-3 max-w-xl mx-auto animate-fade-in-up">
              {/* Weather Card */}
              <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100 mb-6 flex items-center justify-between relative overflow-hidden">
                <div className="absolute -right-4 -top-4 w-20 h-20 bg-blue-50/50 rounded-full blur-2xl"></div>
                <div>
                  <div className="flex items-center text-gray-400 mb-1 text-xs">
                    <Icon emoji="ğŸ“" size={13} />
                    <p className="ml-1">{currentItinerary.location}</p>
                  </div>
                  <h2 className="text-lg font-bold">{currentItinerary.date}</h2>
                </div>

                <div className="flex flex-col items-end">
                  {loadingWeather ? (
                    <div className="flex flex-col items-end space-y-1.5">
                      <div className="w-8 h-8 rounded-full bg-gray-100 animate-pulse mb-1"></div>
                      <div className="w-16 h-4 bg-gray-100 animate-pulse rounded-md"></div>
                    </div>
                  ) : currentWeather ? (
                    <>
                      <div className="mb-1 text-2xl">
                        {currentWeather.type === 'sunny' ? <Icon emoji="â˜€ï¸" size={26} /> : <Icon emoji="ğŸŒ§ï¸" size={26} />}
                      </div>
                      <div className="text-right">
                        <div className="text-lg font-bold">{currentWeather.temp}</div>
                        <div className="text-[11px] text-gray-400 bg-gray-50 px-2 py-0.5 rounded-full mt-1">{currentWeather.desc}</div>
                      </div>
                    </>
                  ) : (
                    <div className="text-xs text-red-500">ç„¡æ³•å–å¾—å¤©æ°£è³‡æ–™</div>
                  )}
                </div>
              </div>

              {/* Timeline */}
              <div className="space-y-6 relative pb-8">
                <div className="absolute left-4 top-6 bottom-0 w-[2px] bg-gray-100/80 rounded-full" />
                {currentItinerary.events.map((event) => (
                  <div key={event.id} className="relative pl-12 group">
                    <div className="absolute left-0 top-0 bg-white border w-10 h-10 rounded-full flex items-center justify-center z-10 shadow text-[11px] font-bold text-gray-600">
                      {event.time}
                    </div>

                    <div className="rounded-2xl shadow border border-gray-50 overflow-hidden bg-white">
                      {/* event artwork */}
                      <div className="w-full h-40 bg-gray-100 overflow-hidden">
                        <img loading="lazy" src={getEventImage(event)} alt={event.title} className="w-full h-full object-cover" />
                      </div>
                      <div className="p-4">
                        <div className="flex justify-between items-start mb-3">
                          <div className="flex-1 pr-2">
                            <div className={`inline-flex items-center space-x-2 px-2.5 py-1 rounded-full text-[11px] font-bold mb-2 ${getTypeColor(event.type)}`}>
                              <Icon emoji={getTypeEmoji(event.type)} />
                              <span className="uppercase">{event.type}</span>
                            </div>
                            <h3 className="text-[16px] font-bold">{event.title}</h3>
                            {event.koreanName && <p className="text-[12px] text-gray-400 mt-0.5">{event.koreanName}</p>}
                          </div>

                          <div className="flex space-x-2 flex-shrink-0 pt-1">
                            {/* Naver Map button */}
                            {(event.koreanName || event.title || event.type === 'transport') && (
                              <button
                                onClick={() => openNaverMap(event)}
                                className="w-9 h-9 bg-[#03C75A] text-white rounded-xl flex items-center justify-center shadow"
                                aria-label="Naver Map"
                              >
                                <Icon emoji="ğŸ§­" />
                              </button>
                            )}

                            {/* Google Search */}
                            {(event.type === 'food' || event.type === 'bar' || event.type === 'cafe') && (
                              <button onClick={() => openGoogleSearch(event)} className="w-9 h-9 bg-blue-500 text-white rounded-xl flex items-center justify-center shadow" aria-label="Google Search">
                                <Icon emoji="ğŸ”" />
                              </button>
                            )}

                            {/* Shopping details */}
                            {event.type === 'shopping' && event.shoppingItems && event.shoppingItems.length > 0 && (
                              <button onClick={() => { openShoppingDetail(event); }} className="w-9 h-9 bg-rose-500 text-white rounded-xl flex items-center justify-center shadow" aria-label="è³¼ç‰©æ˜ç´°">
                                <Icon emoji="ğŸ“‹" />
                              </button>
                            )}
                          </div>
                        </div>

                        {/* meta / route */}
                        <div className="space-y-3">
                          {event.type === 'transport' && event.meta && (
                            <div className="flex items-center justify-between bg-gray-50 rounded-2xl p-3.5 text-xs font-bold text-gray-600 border">
                              <span>{event.meta.from}</span>
                              <div className="flex-1 border-t-2 border-dotted border-gray-300 mx-3 h-0" />
                              <span>{event.meta.to}</span>
                            </div>
                          )}

                          <p className="text-[13px] text-gray-600 leading-relaxed">{event.desc}</p>

                          {(event.tags || event.tips) && (
                            <div className="flex flex-wrap gap-2 pt-1">
                              {event.tags && event.tags.map((tag, idx) => {
                                let badgeClass = "bg-gray-50 text-gray-500 border-gray-100";
                                if (tag.style === 'highlight') badgeClass = "bg-rose-50 text-rose-600 font-bold border-rose-100";
                                if (tag.style === 'warning') badgeClass = "bg-amber-50 text-amber-600 border-amber-100 font-medium";
                                if (tag.style === 'info') badgeClass = "bg-blue-50 text-blue-600 font-medium border-blue-100";
                                return <span key={idx} className={`px-3 py-1.5 rounded-xl text-[11px] border ${badgeClass}`}>{tag.text}</span>;
                              })}
                              {event.tips && event.tips.map((tip, idx) => (
                                <span key={'tip'+idx} className="px-3 py-1.5 rounded-xl text-[11px] bg-yellow-50 text-yellow-700 flex items-center border border-yellow-100 font-medium">
                                  <Icon emoji="â„¹ï¸" size={12} className="mr-1" />
                                  {tip}
                                </span>
                              ))}
                            </div>
                          )}
                        </div>
                      </div>
                    </div>
                  </div>
                ))}

                <div className="h-8 flex items-end justify-center">
                  <span className="text-[10px] text-gray-300 tracking-[0.2em] font-medium uppercase">End of Day {currentItinerary.day}</span>
                </div>
              </div>
            </main>
          </div>

          {/* Bottom day selector */}
          <div className="fixed bottom-0 left-0 right-0 z-50 safe-bottom">
            <div className="px-4 pb-4 sm:px-6 sm:pb-6 bg-gradient-to-t from-white via-white to-transparent pt-4">
              <div className="flex space-x-2 overflow-x-auto no-scrollbar justify-start sm:justify-center max-w-xl mx-auto">
                {ITINERARY_DATA.map((dayData, idx) => (
                  <button key={idx} onClick={() => {
                    // switch day and scroll the main content container to top
                    setActiveDay(idx);
                    if (scrollRef.current) scrollRef.current.scrollTo({ top: 0, behavior: 'smooth' });
                  }} aria-pressed={activeDay===idx}
                    className={`flex-shrink-0 px-6 py-3 rounded-full text-sm font-bold transition duration-200 border shadow-xl
                      ${activeDay===idx ? 'bg-gray-900 text-white border-gray-900' : 'bg-white text-gray-400 border-gray-100 hover:border-gray-200'}`}>
                    {dayData.date}
                  </button>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    }

    // ---------- render ----------
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
    </script>
  </body>
</html>